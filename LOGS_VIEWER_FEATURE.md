# Ù…ÙŠØ²Ø© Ø¹Ø§Ø±Ø¶ Ø§Ù„Ø³Ø¬Ù„Ø§Øª - Logs Viewer Feature

## âœ¨ Ø§Ù„Ù…ÙŠØ²Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©

ØªÙ… Ø¥Ø¶Ø§ÙØ© **ØµÙØ­Ø© Logs Viewer** ÙÙŠ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ù„Ø¹Ø±Ø¶ Ø³Ø¬Ù„Ø§Øª Ø§Ù„Ù…ÙˆØ§Ù‚Ø¹ ÙÙŠ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„ÙØ¹Ù„ÙŠ!

## ğŸ¯ Ø§Ù„Ù…Ù…ÙŠØ²Ø§Øª:

### 1. **Ù…ÙˆÙ‚Ø¹ ÙÙŠ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©** ğŸ“
```
Dashboard | Logs | Scheduler
```

Ø§Ù„Ø¢Ù† ÙŠÙ…ÙƒÙ† Ø§Ù„ÙˆØµÙˆÙ„ Ù„Ù„Ù€ Logs Ù…Ù† Ø£ÙŠ Ù…ÙƒØ§Ù† ÙÙŠ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚!

### 2. **Ø§Ø®ØªÙŠØ§Ø± Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠ** ğŸ›ï¸
- âœ… Ø§Ø®ØªÙŠØ§Ø± Stack Ù…Ù† Ù‚Ø§Ø¦Ù…Ø© Ù…Ù†Ø³Ø¯Ù„Ø©
- âœ… Ø§Ø®ØªÙŠØ§Ø± Site Ù…Ù† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© (ÙŠØªÙ… ØªØ­Ø¯ÙŠØ«Ù‡Ø§ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹)
- âœ… Ø§Ø®ØªÙŠØ§Ø± Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ø³Ø·Ø± (50, 100, 200, 500, 1000)

### 3. **Ø¹Ø±Ø¶ Ù…ØªÙ‚Ø¯Ù…** ğŸ“‹
- âœ… Ø®Ù„ÙÙŠØ© Ø³ÙˆØ¯Ø§Ø¡ Ù…Ø¹ Ù†Øµ Ø£Ø®Ø¶Ø± (terminal style)
- âœ… ØªÙ…Ø±ÙŠØ± ØªÙ„Ù‚Ø§Ø¦ÙŠ Ù„Ù„Ø£Ø³ÙÙ„
- âœ… Ø¹Ø±Ø¶ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ø­Ø§Ù„ÙŠ
- âœ… Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª (Stack, Site, Lines)

### 4. **Auto Refresh** ğŸ”„
- âœ… Ø²Ø± Ù„ØªÙØ¹ÙŠÙ„/Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ
- âœ… ÙŠØ­Ø¯Ø« ÙƒÙ„ 5 Ø«ÙˆØ§Ù†Ù
- âœ… Ù…Ø¤Ø´Ø± ÙˆØ§Ø¶Ø­ (ON/OFF)

### 5. **ØªØ­Ù…ÙŠÙ„ Logs** ğŸ’¾
- âœ… Ø²Ø± Download Ù„Ø­ÙØ¸ Logs ÙƒÙ…Ù„Ù Ù†ØµÙŠ
- âœ… Ø§Ø³Ù… Ø§Ù„Ù…Ù„Ù ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰: Stack, Site, ÙˆÙ‚Øª Ø§Ù„ØªØ­Ù…ÙŠÙ„
- âœ… Ø¥Ø´Ø¹Ø§Ø± Ù†Ø¬Ø§Ø­ Ø¨Ø¹Ø¯ Ø§Ù„ØªØ­Ù…ÙŠÙ„

---

## ğŸ“ Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø¶Ø§ÙØ©/Ø§Ù„Ù…Ø¹Ø¯Ù‘Ù„Ø©:

### 1. **`dashboard/templates/base.html`** (Ù…Ø¹Ø¯Ù‘Ù„)
Ø£Ø¶ÙŠÙ Ù„ÙŠÙ†Ùƒ Logs ÙÙŠ Ø§Ù„Ù€ Navigation:

```html
<a href="/logs-viewer" class="...">
    <i class="fas fa-file-alt mr-2"></i> Logs
</a>
```

### 2. **`dashboard/templates/logs_viewer.html`** (Ø¬Ø¯ÙŠØ¯)
Template ÙƒØ§Ù…Ù„ Ù„Ù„Ù€ Logs Viewer Ù…Ø¹:
- Ù†Ù…Ø§Ø°Ø¬ Ø§Ø®ØªÙŠØ§Ø± Stack/Site/Lines
- Ø¹Ø±Ø¶ Logs
- Auto Refresh
- Download functionality

### 3. **`dashboard/main.py`** (Ù…Ø¹Ø¯Ù‘Ù„)
Ø£Ø¶ÙŠÙ Route Ø¬Ø¯ÙŠØ¯:

```python
@app.get("/logs-viewer")
async def logs_viewer_page(
    stack: str = None,
    site: str = None,
    lines: int = 100,
    ...
):
    # Get stacks
    # Get sites for selected stack
    # Get logs if both selected
    ...
```

---

## ğŸ¨ ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…:

### Ø§Ù„Ø´Ø§Ø´Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ—‚ï¸ Select Site                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Stack: [frappe â–¼]                          â”‚
â”‚ Site:  [devsite.mby-solution.vip â–¼]       â”‚
â”‚ Lines: [100 â–¼]                              â”‚
â”‚                                             â”‚
â”‚ [ğŸ”„ Refresh Logs] [â–¶ï¸ Auto Refresh (OFF)]  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ’» Container Logs         Last: 14:30:25   â”‚
â”‚                                 [â¬‡ï¸ Download]â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [Black Background]                          â”‚
â”‚ 2026-01-13 14:30:20 INFO Starting server... â”‚
â”‚ 2026-01-13 14:30:21 INFO Database connected â”‚
â”‚ 2026-01-13 14:30:22 INFO Ready!            â”‚
â”‚ ...                                         â”‚
â”‚                                             â”‚
â”‚ Showing last 100 lines                      â”‚
â”‚ Stack: frappe | Site: devsite.mby-solution â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ ÙƒÙŠÙ ÙŠØ¹Ù…Ù„:

### 1. **Ø§Ø®ØªÙŠØ§Ø± Stack**
```javascript
User selects Stack â†’ Form submits â†’ 
  Dashboard calls /stacks/{stack} â†’ 
    Sites list updates
```

### 2. **Ø§Ø®ØªÙŠØ§Ø± Site**
```javascript
User selects Site â†’ Form submits â†’
  Dashboard calls /site/{stack}/{site}/logs â†’
    Logs display
```

### 3. **Auto Refresh**
```javascript
User clicks "Auto Refresh" â†’
  Interval set (5 seconds) â†’
    Page reloads automatically â†’
      Fresh logs displayed
```

### 4. **Download Logs**
```javascript
User clicks "Download" â†’
  Logs extracted from page â†’
    Blob created â†’
      File downloaded
```

---

## ğŸš€ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚:

### Ù†Ø³Ø® Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø­Ø¯Ø«Ø©:

```bash
# Ù…Ù† Ø¬Ù‡Ø§Ø²Ùƒ Ø§Ù„Ù…Ø­Ù„ÙŠ
scp /home/manager-pc/Desktop/dash/dashboard/main.py \
    baron@192.168.1.99:/opt/dash/dashboard/

scp /home/manager-pc/Desktop/dash/dashboard/templates/base.html \
    baron@192.168.1.99:/opt/dash/dashboard/templates/

scp /home/manager-pc/Desktop/dash/dashboard/templates/logs_viewer.html \
    baron@192.168.1.99:/opt/dash/dashboard/templates/
```

### Ø¹Ù„Ù‰ Ø§Ù„Ø³ÙŠØ±ÙØ±:

```bash
# Ø¥ØµÙ„Ø§Ø­ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª
sudo chown -R baron:baron /opt/dash

# Ø¥Ø¹Ø§Ø¯Ø© ØªØ´ØºÙŠÙ„ Dashboard
cd /opt/dash
# Ø§Ø¶ØºØ· Ctrl+C Ø«Ù…:
bash start-all.sh
```

---

## ğŸ§ª Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±:

### Test 1: Ø§Ù„ÙˆØµÙˆÙ„ Ù„Ù„ØµÙØ­Ø©
```
1. Ø§ÙØªØ­ Dashboard
2. Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ "Logs" ÙÙŠ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¹Ù„ÙˆÙŠØ©
3. Expected: âœ… ØµÙØ­Ø© Logs Viewer ØªÙØªØ­
```

### Test 2: Ø§Ø®ØªÙŠØ§Ø± Site
```
1. Ø§Ø®ØªØ± Stack: frappe
2. Ø§Ø®ØªØ± Site: devsite.mby-solution.vip
3. Expected: âœ… Logs ØªØ¸Ù‡Ø± ÙÙˆØ±Ø§Ù‹
```

### Test 3: ØªØºÙŠÙŠØ± Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ø³Ø·Ø±
```
1. ØºÙŠÙ‘Ø± Lines Ù…Ù† 100 Ø¥Ù„Ù‰ 500
2. Expected: âœ… ØªØ­Ø¯ÙŠØ« ØªÙ„Ù‚Ø§Ø¦ÙŠ ÙˆØ¹Ø±Ø¶ 500 Ø³Ø·Ø±
```

### Test 4: Auto Refresh
```
1. Ø§Ø¶ØºØ· "Auto Refresh (OFF)"
2. Ø§Ù†ØªØ¸Ø± 5 Ø«ÙˆØ§Ù†Ù
3. Expected: âœ… Ø§Ù„ØµÙØ­Ø© ØªØªØ­Ø¯Ø« ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
4. Ø§Ø¶ØºØ· "Auto Refresh (ON)" Ù„Ø¥ÙŠÙ‚Ø§ÙÙ‡Ø§
5. Expected: âœ… Ø§Ù„ØªØ­Ø¯ÙŠØ« ÙŠØªÙˆÙ‚Ù
```

### Test 5: Download
```
1. Ø§Ø¶ØºØ· Ø²Ø± "Download"
2. Expected: âœ… Ù…Ù„Ù Ù†ØµÙŠ ÙŠÙØ­Ù…Ù‘Ù„
3. ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ø³Ù… Ø§Ù„Ù…Ù„Ù:
   logs-frappe-devsite.mby-solution.vip-2026-01-13_14-30-25.txt
```

---

## ğŸ’¡ Ø­Ø§Ù„Ø§Øª Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…:

### 1. **Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ ÙÙŠ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„ÙØ¹Ù„ÙŠ**
```
- ÙØ¹Ù‘Ù„ Auto Refresh
- Ø±Ø§Ù‚Ø¨ Logs Ø£Ø«Ù†Ø§Ø¡ Ø§Ø®ØªØ¨Ø§Ø± Ù…ÙŠØ²Ø© Ø¬Ø¯ÙŠØ¯Ø©
- Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ ØªØ¸Ù‡Ø± ÙÙˆØ±Ø§Ù‹
```

### 2. **ØªØµØ¯ÙŠØ± Logs Ù„Ù„ÙØ±ÙŠÙ‚**
```
- Ø§Ø®ØªØ± Ø§Ù„Ù…ÙˆÙ‚Ø¹
- ØºÙŠÙ‘Ø± Lines Ø¥Ù„Ù‰ 1000
- Ø§Ø¶ØºØ· Download
- Ø£Ø±Ø³Ù„ Ø§Ù„Ù…Ù„Ù Ù„Ù„ÙØ±ÙŠÙ‚
```

### 3. **Ù…Ù‚Ø§Ø±Ù†Ø© Ø³Ù„ÙˆÙƒ Ø§Ù„Ù…ÙˆØ§Ù‚Ø¹**
```
- Ø§ÙØªØ­ Tab 1: Site A logs
- Ø§ÙØªØ­ Tab 2: Site B logs
- Ù‚Ø§Ø±Ù† Ø§Ù„Ø³Ù„ÙˆÙƒ
```

### 4. **ØªØªØ¨Ø¹ Deployment**
```
- Ø£Ø«Ù†Ø§Ø¡ deployment
- Ø±Ø§Ù‚Ø¨ Logs Ø¨Ù€ Auto Refresh
- ØªØ£ÙƒØ¯ Ù…Ù† Ù†Ø¬Ø§Ø­ Ø§Ù„ØªØ­Ø¯ÙŠØ«
```

---

## ğŸ¯ Ø§Ù„ÙÙˆØ§Ø¦Ø¯:

| Ø§Ù„Ù…ÙŠØ²Ø© | Ø§Ù„ÙØ§Ø¦Ø¯Ø© |
|--------|---------|
| **Centralized** | Ø¬Ù…ÙŠØ¹ logs ÙÙŠ Ù…ÙƒØ§Ù† ÙˆØ§Ø­Ø¯ |
| **Real-time** | Ù…Ø±Ø§Ù‚Ø¨Ø© Ù…Ø¨Ø§Ø´Ø±Ø© Ù…Ø¹ Auto Refresh |
| **Flexible** | Ø§Ø®ØªÙŠØ§Ø± Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ø³Ø·Ø± Ø­Ø³Ø¨ Ø§Ù„Ø­Ø§Ø¬Ø© |
| **Exportable** | ØªØ­Ù…ÙŠÙ„ ÙˆØ­ÙØ¸ Ù„Ù„Ø±Ø¬ÙˆØ¹ Ø¥Ù„ÙŠÙ‡Ø§ |
| **User-friendly** | ÙˆØ§Ø¬Ù‡Ø© Ø³Ù‡Ù„Ø© ÙˆÙˆØ§Ø¶Ø­Ø© |
| **Fast** | Ù„Ø§ Ø­Ø§Ø¬Ø© Ù„Ù„Ù€ SSH |

---

## ğŸ”® ØªØ­Ø³ÙŠÙ†Ø§Øª Ù…Ø³ØªÙ‚Ø¨Ù„ÙŠØ© Ù…Ø­ØªÙ…Ù„Ø©:

### 1. **Live Streaming**
```javascript
// WebSocket Ù„Ù„Ù€ logs Ø§Ù„Ø­ÙŠØ©
ws://dashboard/logs/stream
```

### 2. **Search in Logs**
```html
<input type="text" placeholder="Search logs...">
```

### 3. **Filter by Level**
```html
â˜‘ï¸ INFO  â˜‘ï¸ WARNING  â˜‘ï¸ ERROR  â˜ DEBUG
```

### 4. **Multiple Sites**
```html
<!-- Ø¹Ø±Ø¶ logs Ù…Ù† Ø¹Ø¯Ø© Ù…ÙˆØ§Ù‚Ø¹ ÙÙŠ Ù†ÙØ³ Ø§Ù„ÙˆÙ‚Øª -->
<div class="grid grid-cols-2">
  <div>Site A Logs</div>
  <div>Site B Logs</div>
</div>
```

### 5. **Color Coding**
```css
/* ØªÙ„ÙˆÙŠÙ† Ø­Ø³Ø¨ Ù†ÙˆØ¹ Ø§Ù„Ø±Ø³Ø§Ù„Ø© */
.error { color: red; }
.warning { color: yellow; }
.info { color: green; }
```

---

## ğŸ“Š Ø§Ù„Ù…Ù„Ø®Øµ:

| Ø§Ù„Ø¹Ù†ØµØ± | Ø§Ù„Ù‚ÙŠÙ…Ø© |
|--------|--------|
| **Files Added** | 1 (logs_viewer.html) |
| **Files Modified** | 2 (main.py, base.html) |
| **New Routes** | 1 (/logs-viewer) |
| **Features** | 5 (Select, View, Refresh, Auto, Download) |
| **UX Impact** | ğŸŒŸğŸŒŸğŸŒŸğŸŒŸğŸŒŸ |

---

## âœ… Checklist:

Ø¨Ø¹Ø¯ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ ØªØ£ÙƒØ¯ Ù…Ù†:

- [ ] Ù„ÙŠÙ†Ùƒ "Logs" ÙŠØ¸Ù‡Ø± ÙÙŠ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¹Ù„ÙˆÙŠØ©
- [ ] ØµÙØ­Ø© Logs ØªÙØªØ­ Ø¨Ø¯ÙˆÙ† Ø£Ø®Ø·Ø§Ø¡
- [ ] Ù‚ÙˆØ§Ø¦Ù… Stack Ùˆ Site ØªØ¹Ù…Ù„
- [ ] Logs ØªØ¸Ù‡Ø± Ø¹Ù†Ø¯ Ø§Ù„Ø§Ø®ØªÙŠØ§Ø±
- [ ] Ø²Ø± Refresh ÙŠØ­Ø¯Ø« Ø§Ù„Ù€ logs
- [ ] Auto Refresh ÙŠØ¹Ù…Ù„ (ÙƒÙ„ 5 Ø«ÙˆØ§Ù†Ù)
- [ ] Ø²Ø± Download ÙŠØ­Ù…Ù‘Ù„ Ù…Ù„Ù Ù†ØµÙŠ
- [ ] Ø§Ù„ØªØµÙ…ÙŠÙ… Ù…ØªÙ†Ø§Ø³Ù‚ Ù…Ø¹ Ø¨Ø§Ù‚ÙŠ Dashboard

---

**ØªÙ… Ø¨Ù†Ø¬Ø§Ø­! ğŸ‰**

Ø§Ù„Ø¢Ù† Ù„Ø¯ÙŠÙƒ ØµÙØ­Ø© Logs Ø§Ø­ØªØ±Ø§ÙÙŠØ© ÙÙŠ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ù…Ø¹ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…ÙŠØ²Ø§Øª Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©!

